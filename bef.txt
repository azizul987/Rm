Ringkasan singkat untuk sesi berikut (kode nama: bef)

Konteks proyek
- Website properti PHP. Admin area di admin/.
- Pengaturan konten public sudah bisa diubah via admin: Brand (admin/settings.php), About (admin/settings_about.php), Contact (admin/settings_contact.php), Home/Hero (admin/settings_home.php).
- Sidebar admin sudah dipecah: Pengaturan Brand/About/Contact/Home.

Role & akses
- Role: superadmin, admin, editor.
- superadmin/admin bisa akses Sales + Settings + Manajemen Admin.
- Editor hanya bisa kelola properti (dan hanya yg diizinkan/yang dibuat sendiri).
- Whitelist editor: editor_sales (sales yang boleh dipilih) & editor_properties (properti yang boleh diedit).
- Editor bisa edit properti yang dibuat sendiri meski belum di-whitelist.

Kredit & status editor
- Editor punya credit_limit (default 5) dan credit_used.
- Kredit bertambah saat editor membuat properti baru.
- Jika kredit habis: editor tidak bisa buat properti baru, tapi tetap bisa edit.
- Editor bisa frozen (status): properti editor yang frozen tidak tampil di public, tapi editor masih bisa edit.
- Warning muncul di admin header saat editor frozen.

DB changes (wajib di DB aktif)

ALTER TABLE users
  ADD COLUMN status VARCHAR(20) NOT NULL DEFAULT 'active',
  ADD COLUMN credit_limit INT NOT NULL DEFAULT 5,
  ADD COLUMN credit_used INT NOT NULL DEFAULT 0;

ALTER TABLE properties
  ADD COLUMN created_by INT DEFAULT NULL;

ALTER TABLE properties
  ADD INDEX fk_properties_created_by (created_by),
  ADD CONSTRAINT fk_properties_created_by
    FOREIGN KEY (created_by) REFERENCES users(id)
    ON UPDATE CASCADE ON DELETE SET NULL;

CREATE TABLE editor_sales (
  editor_id INT NOT NULL,
  sales_id INT NOT NULL,
  granted_by INT NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (editor_id, sales_id),
  CONSTRAINT fk_editor_sales_user FOREIGN KEY (editor_id) REFERENCES users(id)
    ON UPDATE CASCADE ON DELETE CASCADE,
  CONSTRAINT fk_editor_sales_sales FOREIGN KEY (sales_id) REFERENCES sales(id)
    ON UPDATE CASCADE ON DELETE CASCADE,
  CONSTRAINT fk_editor_sales_granted_by FOREIGN KEY (granted_by) REFERENCES users(id)
    ON UPDATE CASCADE ON DELETE CASCADE
) ENGINE=InnoDB;

CREATE TABLE editor_properties (
  editor_id INT NOT NULL,
  property_id INT NOT NULL,
  granted_by INT NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (editor_id, property_id),
  CONSTRAINT fk_editor_props_user FOREIGN KEY (editor_id) REFERENCES users(id)
    ON UPDATE CASCADE ON DELETE CASCADE,
  CONSTRAINT fk_editor_props_property FOREIGN KEY (property_id) REFERENCES properties(id)
    ON UPDATE CASCADE ON DELETE CASCADE,
  CONSTRAINT fk_editor_props_granted_by FOREIGN KEY (granted_by) REFERENCES users(id)
    ON UPDATE CASCADE ON DELETE CASCADE
) ENGINE=InnoDB;

UPDATE users SET role='superadmin' WHERE id=1;

Perubahan file utama
- Auth/role helpers: admin/_init.php, admin/login.php.
- Menu admin: admin/_sidebar.php.
- Manajemen user & akses editor: admin/users.php, admin/editor_access.php.
- Pengaturan halaman public: admin/settings.php, admin/settings_about.php, admin/settings_contact.php, admin/settings_home.php.
- Editor restrictions: admin/properties.php, admin/property_edit.php, admin/property_delete.php, admin/property_image_delete.php, admin/index.php.
- Public filter frozen editor: index.php, property.php.
- Schema updates: schema.sql, database.sql.

Catatan penting
- admin/property_image_delete.php sudah diperbaiki jadi POST & cek akses.
- Public listing menyembunyikan properti editor yang statusnya frozen.
- database.sql disesuaikan (created_by, status/credit di users).

Jika sesi berikut minta, lanjutkan cek UI kredit di halaman editor (opsional) atau tambah label sisa kredit di form tambah properti.
